# dev

## git
    git pull --force origin master
## 线上大模型
    有哪些国内的大模型服务对接？

    提供商	API申请链接	                                        推荐模型名称             key
    智谱AI	https://open.bigmodel.cn/api/paas/v4	           glm-4               f4e86c06171f1f59ac0e79fef2c49a9d.6SQqSHhQrbFdeEAb



    阿里云	https://dashscope.aliyuncs.com/compatible-mode/v1	qwen-max
    幻方	https://api.deepseek.com	                        deepseek-chat
    月之暗面	https://api.moonshot.cn/v1	                    moonshot-v1-8k

## Docker部署
- 安装好Docker以及docker-compose
- 下载docker-compose.yml；执行命令：wget https://raw.githubusercontent.com/tencentmusic/supersonic/master/docker/docker-compose.yml
- 执行："docker-compose up -d"
- 在浏览器访问http://localhost:9080 开启探索

## 本地构建

- 第一步：进入assembly/bin 文件夹

    执行
    supersonic-build.bat 全部编译
    supersonic-build.bat webapp编译前端
- 第二步：进入 webapp 文件夹

    执行
    start-fe-dev.bat 启动前端

- 第三步：进入 launchers/standalone/src/main/java/ 文件夹

    启动StandalongeLauncher.java 文件的主函数

- 第四步：打开浏览器：

    dev前端界面地址：http://localhost:9000、

    后端的端口是：http://localhost:9080
    用户：admin, jack, tom, lucy, alice，密码都是：123456

## 接口和H2数据库：
    界面中配置Mysql：jdbc:mysql://localhost:3306/xd?useUnicode=true&characterEncoding=UTF-8&useSSL=false&allowMultiQueries=true

    wagger接口文档：http://localhost:9080/swagger-ui/index.html

    H2数据库：http://localhost:9080/h2-console/semantic
    driver-class-name: org.h2.Driver
    url: jdbc:h2:mem:semantic;DATABASE_TO_UPPER=false
    username: root
    password: semantic

    1、数据导出,导出到当前项目根目录
    CALL CSVWRITE('s2_chat .csv', 'SELECT * FROM s2_chat ');

    2、数据导出，导出到指定目录
    CALL CSVWRITE('D:\Hadoop\H2\hello_world.csv', 'SELECT * FROM hello_world');

    2、数据导入
    CREATE TABLE hello_world AS SELECT * FROM CSVREAD('D:\Hadoop\H2\hello_world.csv')

    3、数据插入
    INSERT INTO hello_world SELECT * FROM CSVREAD('D:\Hadoop\H2\hello_world.csv');

## 详细说明

参考[文档](https://supersonicbi.github.io/docs/%E7%B3%BB%E7%BB%9F%E9%83%A8%E7%BD%B2/%E7%BC%96%E8%AF%91%E6%9E%84%E5%BB%BA/)。

## maven 常用命令

    mvn clean compile    先清空在编译
    mvn clean test   先clean在执行test常应用与测试环节
    mvn clean package命令   执行过程：清理---》编译---》测试---》打包
    mvn clean install 命令   执行过程：清理---》编译---》测试---》打包---》部署

## docker 常用命令

    docker info
    docker save -o supersonic_latest.tar supersonic/supersonic:latest
    docker load -i supersonic_latest.tar

    docker-compose  stop  容器名称   停止后端jar运行 
    docker-compose  rm    容器名称   删除容器   
    docker  rmi           镜像id    删除镜像    
    docker builder prune  清理Docker的缓存。

    容器编排
    docker-compose up -d
    docker-compose -f docker-comepose.yaml up -d 

    编译镜像
    docker build -t supersonic-app .  编译镜像
    docker build --build-arg SUPERSONIC_VERSION=0.9.6-SNAPSHOT -t supersonic-app . 传参编译镜像